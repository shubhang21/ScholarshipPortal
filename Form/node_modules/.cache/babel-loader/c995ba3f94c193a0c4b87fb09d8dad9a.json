{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nvar CHROME_REGEX = /(chrome)[ \\/]([\\w.]+)/i;\nvar SAFARI_REGEX = /(webkit)[ \\/]([\\w.]+)/i;\n/**\n * @hidden\n */\n\nvar UploadInput =\n/** @class */\nfunction (_super) {\n  __extends(UploadInput, _super);\n\n  function UploadInput() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.onMouseDown = function (e) {\n      if (_this.props.onMouseDown) {\n        _this.props.onMouseDown(e);\n      }\n    };\n\n    _this.onAdd = function () {\n      var ua = navigator.userAgent;\n      var input = _this._input;\n\n      if (input) {\n        if (_this.props.onAdd && input.files) {\n          _this.props.onAdd.call(undefined, input.files);\n        }\n        /*\n            Chrome and Internet Explorer do not trigger a `change` event\n            when a file with the same name is selected a number of consecutive times.\n            As a workaround, clear the input value after handling the file.\n        */\n\n\n        if (!(!ua.match(CHROME_REGEX) && ua.match(SAFARI_REGEX))) {\n          input.type = '';\n          input.type = 'file';\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(UploadInput.prototype, \"actionElement\", {\n    get: function () {\n      return this._input;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  UploadInput.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        multiple = _a.multiple,\n        async = _a.async,\n        disabled = _a.disabled,\n        accept = _a.accept;\n    return React.createElement(\"input\", {\n      ref: function (ref) {\n        return _this._input = ref;\n      },\n      autoComplete: 'off',\n      name: async.saveField,\n      accept: accept,\n      type: 'file',\n      tabIndex: -1,\n      multiple: multiple,\n      disabled: disabled,\n      onChange: this.onAdd,\n      onMouseDown: this.onMouseDown\n    });\n  };\n\n  return UploadInput;\n}(React.Component);\n\nexport { UploadInput };","map":{"version":3,"sources":["../../src/UploadInput.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AAGA,IAAM,YAAY,GAAW,wBAA7B;AACA,IAAM,YAAY,GAAW,wBAA7B;AAcA;;AAEG;;AACH,IAAA,WAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAiC,EAAA,SAAA,CAAA,WAAA,EAAA,MAAA,CAAA;;AAAjC,WAAA,WAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AAOI,IAAA,KAAA,CAAA,WAAA,GAAc,UAAC,CAAD,EAAE;AACZ,UAAI,KAAI,CAAC,KAAL,CAAW,WAAf,EAA4B;AACxB,QAAA,KAAI,CAAC,KAAL,CAAW,WAAX,CAAuB,CAAvB;AACH;AACJ,KAJD;;AAMA,IAAA,KAAA,CAAA,KAAA,GAAQ,YAAA;AACJ,UAAM,EAAE,GAAW,SAAS,CAAC,SAA7B;AACA,UAAM,KAAK,GAA4B,KAAI,CAAC,MAA5C;;AAEA,UAAI,KAAJ,EAAW;AACP,YAAI,KAAI,CAAC,KAAL,CAAW,KAAX,IAAoB,KAAK,CAAC,KAA9B,EAAqC;AACjC,UAAA,KAAI,CAAC,KAAL,CAAW,KAAX,CAAiB,IAAjB,CAAsB,SAAtB,EAAiC,KAAK,CAAC,KAAvC;AACH;AAED;;;;AAIE;;;AACF,YAAI,EAAE,CAAC,EAAE,CAAC,KAAH,CAAS,YAAT,CAAD,IAA2B,EAAE,CAAC,KAAH,CAAS,YAAT,CAA7B,CAAJ,EAA0D;AACtD,UAAA,KAAK,CAAC,IAAN,GAAa,EAAb;AACA,UAAA,KAAK,CAAC,IAAN,GAAa,MAAb;AACH;AACJ;AACJ,KAnBD;;;AAsCH;;AAhDG,EAAA,MAAA,CAAA,cAAA,CAAW,WAAA,CAAA,SAAX,EAAW,eAAX,EAAwB;SAAxB,YAAA;AACI,aAAO,KAAK,MAAZ;AACH,KAFuB;oBAAA;;AAAA,GAAxB;;AA+BA,EAAA,WAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACU,QAAA,EAAA,GAAA,KAAA,KAAA;AAAA,QAAE,QAAA,GAAA,EAAA,CAAA,QAAF;AAAA,QAAY,KAAA,GAAA,EAAA,CAAA,KAAZ;AAAA,QAAmB,QAAA,GAAA,EAAA,CAAA,QAAnB;AAAA,QAA6B,MAAA,GAAA,EAAA,CAAA,MAA7B;AACN,WACE,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AACE,MAAA,GAAG,EAAE,UAAA,GAAA,EAAG;AAAI,eAAA,KAAI,CAAC,MAAL,GAAA,GAAA;AAAiB,OAD/B;AAEE,MAAA,YAAY,EAAE,KAFhB;AAGE,MAAA,IAAI,EAAE,KAAK,CAAC,SAHd;AAIE,MAAA,MAAM,EAAE,MAJV;AAKE,MAAA,IAAI,EAAE,MALR;AAME,MAAA,QAAQ,EAAE,CAAC,CANb;AAOE,MAAA,QAAQ,EAAE,QAPZ;AAQE,MAAA,QAAQ,EAAE,QARZ;AASE,MAAA,QAAQ,EAAE,KAAK,KATjB;AAUE,MAAA,WAAW,EAAE,KAAK;AAVpB,KAAA,CADF;AAcH,GAhBD;;AAiBJ,SAAA,WAAA;AAAC,CAnDD,CAAiC,KAAK,CAAC,SAAvC,CAAA","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nvar CHROME_REGEX = /(chrome)[ \\/]([\\w.]+)/i;\nvar SAFARI_REGEX = /(webkit)[ \\/]([\\w.]+)/i;\n/**\n * @hidden\n */\nvar UploadInput = /** @class */ (function (_super) {\n    __extends(UploadInput, _super);\n    function UploadInput() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (e) {\n            if (_this.props.onMouseDown) {\n                _this.props.onMouseDown(e);\n            }\n        };\n        _this.onAdd = function () {\n            var ua = navigator.userAgent;\n            var input = _this._input;\n            if (input) {\n                if (_this.props.onAdd && input.files) {\n                    _this.props.onAdd.call(undefined, input.files);\n                }\n                /*\n                    Chrome and Internet Explorer do not trigger a `change` event\n                    when a file with the same name is selected a number of consecutive times.\n                    As a workaround, clear the input value after handling the file.\n                */\n                if (!(!ua.match(CHROME_REGEX) && ua.match(SAFARI_REGEX))) {\n                    input.type = '';\n                    input.type = 'file';\n                }\n            }\n        };\n        return _this;\n    }\n    Object.defineProperty(UploadInput.prototype, \"actionElement\", {\n        get: function () {\n            return this._input;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    UploadInput.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, multiple = _a.multiple, async = _a.async, disabled = _a.disabled, accept = _a.accept;\n        return (React.createElement(\"input\", { ref: function (ref) { return _this._input = ref; }, autoComplete: 'off', name: async.saveField, accept: accept, type: 'file', tabIndex: -1, multiple: multiple, disabled: disabled, onChange: this.onAdd, onMouseDown: this.onMouseDown }));\n    };\n    return UploadInput;\n}(React.Component));\nexport { UploadInput };\n//# sourceMappingURL=UploadInput.js.map"]},"metadata":{},"sourceType":"module"}