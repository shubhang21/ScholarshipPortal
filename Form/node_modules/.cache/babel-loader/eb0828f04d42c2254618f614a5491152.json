{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n};\n\nimport * as React from 'react';\nimport { Keys } from '@progress/kendo-react-common';\nimport { UploadUI } from './UploadUI';\n/**\n * @hidden\n */\n\nvar NOT_FOCUSED_INDEX = -2;\n/**\n * @hidden\n */\n\nvar DEFAULT_INDEX = -1;\n/**\n * @hidden\n */\n\nvar UploadNavigation =\n/** @class */\nfunction (_super) {\n  __extends(UploadNavigation, _super);\n\n  function UploadNavigation(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.focus = function () {\n      if (_this._uploadUI) {\n        _this._uploadUI.focus();\n      }\n    };\n\n    _this.onKeyDown = function (event, isRtl) {\n      var navIndex = _this.navIndex;\n      var groupKeys = Object.keys(_this.props.groupedFiles);\n      var maxFileIndex = groupKeys.length - 1;\n      var maxNavIndex = _this.props.autoUpload || groupKeys.length === 0 ? maxFileIndex : maxFileIndex + 1;\n      var cancelButtonIndex = maxFileIndex + 1;\n      var uploadButtonIndex = cancelButtonIndex + 1;\n      var prevIndex = navIndex === NOT_FOCUSED_INDEX ? DEFAULT_INDEX : navIndex;\n      var nextIndex = navIndex;\n\n      switch (event.keyCode) {\n        case Keys.up:\n          if (navIndex > -1) {\n            nextIndex = prevIndex - 1;\n          }\n\n          break;\n\n        case Keys.down:\n          if (navIndex < maxNavIndex) {\n            nextIndex = prevIndex + 1;\n          }\n\n          break;\n\n        case Keys.left:\n          if (isRtl) {\n            if (navIndex === cancelButtonIndex) {\n              nextIndex = prevIndex + 1;\n            }\n          } else {\n            if (navIndex === uploadButtonIndex) {\n              nextIndex = prevIndex - 1;\n            }\n          }\n\n          break;\n\n        case Keys.right:\n          if (isRtl) {\n            if (navIndex === uploadButtonIndex) {\n              nextIndex = prevIndex - 1;\n            }\n          } else {\n            if (navIndex === cancelButtonIndex) {\n              nextIndex = prevIndex + 1;\n            }\n          }\n\n          break;\n\n        case Keys.enter:\n          if (navIndex === DEFAULT_INDEX || navIndex === NOT_FOCUSED_INDEX) {\n            if (_this.actionElement) {\n              _this.actionElement.click();\n            }\n          }\n\n          if (navIndex >= 0 && navIndex <= maxFileIndex) {\n            _this.onRetry(groupKeys[navIndex]);\n          }\n\n          break;\n\n        case Keys.space:\n          if (navIndex === DEFAULT_INDEX || navIndex === NOT_FOCUSED_INDEX) {\n            if (_this.actionElement) {\n              _this.actionElement.click();\n            }\n          }\n\n          break;\n\n        case Keys.tab:\n          nextIndex = NOT_FOCUSED_INDEX;\n          break;\n\n        case Keys.delete:\n          if (navIndex >= 0 && navIndex <= maxFileIndex) {\n            nextIndex = prevIndex - 1;\n\n            _this.onRemove(groupKeys[navIndex]);\n          }\n\n          break;\n\n        case Keys.esc:\n          if (navIndex >= 0 && navIndex <= maxFileIndex) {\n            nextIndex = prevIndex - 1;\n\n            _this.onCancel(groupKeys[navIndex]);\n          }\n\n          break;\n\n        default:\n      }\n\n      _this.navIndex = nextIndex;\n    };\n\n    _this.onCancel = function (uid) {\n      if (_this.props.onCancel) {\n        _this.props.onCancel.call(undefined, uid);\n      }\n    };\n\n    _this.onClear = function () {\n      _this.navIndex = DEFAULT_INDEX;\n\n      if (_this.props.onClear) {\n        _this.props.onClear.call(undefined);\n      }\n    };\n\n    _this.onUpload = function () {\n      _this.navIndex = DEFAULT_INDEX;\n\n      if (_this.props.onUpload) {\n        _this.props.onUpload.call(undefined);\n      }\n    };\n\n    _this.onRetry = function (uid) {\n      if (_this.props.onRetry) {\n        _this.props.onRetry.call(undefined, uid);\n      }\n    };\n\n    _this.onRemove = function (uid) {\n      _this.navIndex = _this.navIndex > DEFAULT_INDEX ? _this.navIndex - 1 : DEFAULT_INDEX;\n\n      if (_this.props.onRemove) {\n        _this.props.onRemove.call(undefined, uid);\n      }\n    };\n\n    _this.onAdd = function (files) {\n      _this.navIndex = DEFAULT_INDEX;\n\n      if (_this.props.onAdd) {\n        _this.props.onAdd.call(undefined, files);\n      }\n    };\n\n    _this.onClick = function (navIndex) {\n      _this.navIndex = navIndex;\n    };\n\n    _this.onFocus = function () {\n      if (_this._blurTimeout) {\n        clearTimeout(_this._blurTimeout);\n        _this._blurTimeout = undefined;\n      }\n    };\n\n    _this.onBlurTimeout = function () {\n      _this.navIndex = NOT_FOCUSED_INDEX;\n      _this._blurTimeout = undefined;\n    };\n\n    _this.onBlur = function () {\n      clearTimeout(_this._blurTimeout);\n      _this._blurTimeout = window.setTimeout(_this.onBlurTimeout);\n    };\n\n    _this._navIndex = NOT_FOCUSED_INDEX;\n    return _this;\n  }\n\n  Object.defineProperty(UploadNavigation.prototype, \"navIndex\", {\n    get: function () {\n      return this._navIndex;\n    },\n    set: function (navIndex) {\n      var prevNavIndex = this.navIndex;\n      this._navIndex = navIndex;\n\n      if (navIndex !== prevNavIndex) {\n        this.forceUpdate();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(UploadNavigation.prototype, \"actionElement\", {\n    get: function () {\n      if (this._uploadUI) {\n        return this._uploadUI.actionElement;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  UploadNavigation.prototype.componentDidUpdate = function (prevProps) {\n    var prevGroupLength = Object.keys(prevProps.groupedFiles).length;\n    var groupLength = Object.keys(this.props.groupedFiles).length;\n\n    if (prevGroupLength > groupLength && this.navIndex > DEFAULT_INDEX) {\n      this.navIndex = this.navIndex - (prevGroupLength - groupLength);\n    }\n  };\n\n  UploadNavigation.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        onClear = _a.onClear,\n        onRemove = _a.onRemove,\n        onRetry = _a.onRetry,\n        onCancel = _a.onCancel,\n        onUpload = _a.onUpload,\n        onAdd = _a.onAdd,\n        others = __rest(_a, [\"onClear\", \"onRemove\", \"onRetry\", \"onCancel\", \"onUpload\", \"onAdd\"]);\n\n    return React.createElement(UploadUI, __assign({\n      ref: function (ref) {\n        return _this._uploadUI = ref;\n      },\n      className: this.props.className,\n      onKeyDown: this.onKeyDown,\n      navigationIndex: this.navIndex,\n      notFocusedIndex: NOT_FOCUSED_INDEX,\n      onAdd: this.onAdd,\n      onClear: this.onClear,\n      onUpload: this.onUpload,\n      onRemove: this.onRemove,\n      onRetry: this.onRetry,\n      onCancel: this.onCancel,\n      onClick: this.onClick,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur\n    }, others));\n  };\n\n  return UploadNavigation;\n}(React.Component);\n\nexport { UploadNavigation };","map":{"version":3,"sources":["../../src/UploadNavigation.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport { Keys } from '@progress/kendo-react-common';\nimport { UploadUI } from './UploadUI';\n/**\n * @hidden\n */\nvar NOT_FOCUSED_INDEX = -2;\n/**\n * @hidden\n */\nvar DEFAULT_INDEX = -1;\n/**\n * @hidden\n */\nvar UploadNavigation = /** @class */ (function (_super) {\n    __extends(UploadNavigation, _super);\n    function UploadNavigation(props) {\n        var _this = _super.call(this, props) || this;\n        _this.focus = function () {\n            if (_this._uploadUI) {\n                _this._uploadUI.focus();\n            }\n        };\n        _this.onKeyDown = function (event, isRtl) {\n            var navIndex = _this.navIndex;\n            var groupKeys = Object.keys(_this.props.groupedFiles);\n            var maxFileIndex = (groupKeys.length - 1);\n            var maxNavIndex = _this.props.autoUpload || groupKeys.length === 0 ? maxFileIndex : maxFileIndex + 1;\n            var cancelButtonIndex = maxFileIndex + 1;\n            var uploadButtonIndex = cancelButtonIndex + 1;\n            var prevIndex = navIndex === NOT_FOCUSED_INDEX ? DEFAULT_INDEX : navIndex;\n            var nextIndex = navIndex;\n            switch (event.keyCode) {\n                case Keys.up:\n                    if (navIndex > -1) {\n                        nextIndex = prevIndex - 1;\n                    }\n                    break;\n                case Keys.down:\n                    if (navIndex < maxNavIndex) {\n                        nextIndex = prevIndex + 1;\n                    }\n                    break;\n                case Keys.left:\n                    if (isRtl) {\n                        if (navIndex === cancelButtonIndex) {\n                            nextIndex = prevIndex + 1;\n                        }\n                    }\n                    else {\n                        if (navIndex === uploadButtonIndex) {\n                            nextIndex = prevIndex - 1;\n                        }\n                    }\n                    break;\n                case Keys.right:\n                    if (isRtl) {\n                        if (navIndex === uploadButtonIndex) {\n                            nextIndex = prevIndex - 1;\n                        }\n                    }\n                    else {\n                        if (navIndex === cancelButtonIndex) {\n                            nextIndex = prevIndex + 1;\n                        }\n                    }\n                    break;\n                case Keys.enter:\n                    if (navIndex === DEFAULT_INDEX || navIndex === NOT_FOCUSED_INDEX) {\n                        if (_this.actionElement) {\n                            _this.actionElement.click();\n                        }\n                    }\n                    if (navIndex >= 0 && navIndex <= maxFileIndex) {\n                        _this.onRetry(groupKeys[navIndex]);\n                    }\n                    break;\n                case Keys.space:\n                    if (navIndex === DEFAULT_INDEX || navIndex === NOT_FOCUSED_INDEX) {\n                        if (_this.actionElement) {\n                            _this.actionElement.click();\n                        }\n                    }\n                    break;\n                case Keys.tab:\n                    nextIndex = NOT_FOCUSED_INDEX;\n                    break;\n                case Keys.delete:\n                    if (navIndex >= 0 && navIndex <= maxFileIndex) {\n                        nextIndex = prevIndex - 1;\n                        _this.onRemove(groupKeys[navIndex]);\n                    }\n                    break;\n                case Keys.esc:\n                    if (navIndex >= 0 && navIndex <= maxFileIndex) {\n                        nextIndex = prevIndex - 1;\n                        _this.onCancel(groupKeys[navIndex]);\n                    }\n                    break;\n                default:\n            }\n            _this.navIndex = nextIndex;\n        };\n        _this.onCancel = function (uid) {\n            if (_this.props.onCancel) {\n                _this.props.onCancel.call(undefined, uid);\n            }\n        };\n        _this.onClear = function () {\n            _this.navIndex = DEFAULT_INDEX;\n            if (_this.props.onClear) {\n                _this.props.onClear.call(undefined);\n            }\n        };\n        _this.onUpload = function () {\n            _this.navIndex = DEFAULT_INDEX;\n            if (_this.props.onUpload) {\n                _this.props.onUpload.call(undefined);\n            }\n        };\n        _this.onRetry = function (uid) {\n            if (_this.props.onRetry) {\n                _this.props.onRetry.call(undefined, uid);\n            }\n        };\n        _this.onRemove = function (uid) {\n            _this.navIndex = _this.navIndex > DEFAULT_INDEX ? _this.navIndex - 1 : DEFAULT_INDEX;\n            if (_this.props.onRemove) {\n                _this.props.onRemove.call(undefined, uid);\n            }\n        };\n        _this.onAdd = function (files) {\n            _this.navIndex = DEFAULT_INDEX;\n            if (_this.props.onAdd) {\n                _this.props.onAdd.call(undefined, files);\n            }\n        };\n        _this.onClick = function (navIndex) {\n            _this.navIndex = navIndex;\n        };\n        _this.onFocus = function () {\n            if (_this._blurTimeout) {\n                clearTimeout(_this._blurTimeout);\n                _this._blurTimeout = undefined;\n            }\n        };\n        _this.onBlurTimeout = function () {\n            _this.navIndex = NOT_FOCUSED_INDEX;\n            _this._blurTimeout = undefined;\n        };\n        _this.onBlur = function () {\n            clearTimeout(_this._blurTimeout);\n            _this._blurTimeout = window.setTimeout(_this.onBlurTimeout);\n        };\n        _this._navIndex = NOT_FOCUSED_INDEX;\n        return _this;\n    }\n    Object.defineProperty(UploadNavigation.prototype, \"navIndex\", {\n        get: function () {\n            return this._navIndex;\n        },\n        set: function (navIndex) {\n            var prevNavIndex = this.navIndex;\n            this._navIndex = navIndex;\n            if (navIndex !== prevNavIndex) {\n                this.forceUpdate();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(UploadNavigation.prototype, \"actionElement\", {\n        get: function () {\n            if (this._uploadUI) {\n                return this._uploadUI.actionElement;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    UploadNavigation.prototype.componentDidUpdate = function (prevProps) {\n        var prevGroupLength = Object.keys(prevProps.groupedFiles).length;\n        var groupLength = Object.keys(this.props.groupedFiles).length;\n        if (prevGroupLength > groupLength && this.navIndex > DEFAULT_INDEX) {\n            this.navIndex = this.navIndex - (prevGroupLength - groupLength);\n        }\n    };\n    UploadNavigation.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, onClear = _a.onClear, onRemove = _a.onRemove, onRetry = _a.onRetry, onCancel = _a.onCancel, onUpload = _a.onUpload, onAdd = _a.onAdd, others = __rest(_a, [\"onClear\", \"onRemove\", \"onRetry\", \"onCancel\", \"onUpload\", \"onAdd\"]);\n        return (React.createElement(UploadUI, __assign({ ref: function (ref) { return _this._uploadUI = ref; }, className: this.props.className, onKeyDown: this.onKeyDown, navigationIndex: this.navIndex, notFocusedIndex: NOT_FOCUSED_INDEX, onAdd: this.onAdd, onClear: this.onClear, onUpload: this.onUpload, onRemove: this.onRemove, onRetry: this.onRetry, onCancel: this.onCancel, onClick: this.onClick, onFocus: this.onFocus, onBlur: this.onBlur }, others)));\n    };\n    return UploadNavigation;\n}(React.Component));\nexport { UploadNavigation };\n//# sourceMappingURL=UploadNavigation.js.map"]},"metadata":{},"sourceType":"module"}